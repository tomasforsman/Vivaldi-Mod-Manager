<Window x:Class="VivaldiModManager.UI.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:VivaldiModManager.UI.ViewModels"
        Title="Settings" 
        Height="500" Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{StaticResource BackgroundBrush}">

    <Window.DataContext>
        <vm:SettingsWindowViewModel/>
    </Window.DataContext>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Settings Content -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Appearance Section -->
                <Border Style="{StaticResource ModernCardStyle}" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="Appearance" Style="{StaticResource SubheadingTextStyle}"/>
                        
                        <Grid Margin="0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="Theme:" Style="{StaticResource BodyTextStyle}" VerticalAlignment="Center"/>
                            <ComboBox Grid.Column="1" 
                                     ItemsSource="{Binding AvailableThemes}"
                                     SelectedItem="{Binding SelectedTheme}"
                                     Width="200"
                                     HorizontalAlignment="Left"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Behavior Section -->
                <Border Style="{StaticResource ModernCardStyle}" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="Behavior" Style="{StaticResource SubheadingTextStyle}"/>
                        
                        <CheckBox Content="Start with Windows" 
                                 IsChecked="{Binding StartWithWindows}"
                                 Style="{StaticResource ModernCheckBoxStyle}"
                                 Margin="0,8"/>
                        
                        <CheckBox Content="Minimize to system tray" 
                                 IsChecked="{Binding MinimizeToTray}"
                                 Style="{StaticResource ModernCheckBoxStyle}"
                                 Margin="0,4"/>
                        
                        <CheckBox Content="Enable notifications" 
                                 IsChecked="{Binding EnableNotifications}"
                                 Style="{StaticResource ModernCheckBoxStyle}"
                                 Margin="0,4"/>
                        
                        <CheckBox Content="Enable automatic updates" 
                                 IsChecked="{Binding EnableAutoUpdates}"
                                 Style="{StaticResource ModernCheckBoxStyle}"
                                 Margin="0,4"/>
                    </StackPanel>
                </Border>

                <!-- Advanced Section -->
                <Border Style="{StaticResource ModernCardStyle}">
                    <StackPanel>
                        <TextBlock Text="Advanced" Style="{StaticResource SubheadingTextStyle}"/>
                        
                        <Button Content="Reset All Settings" 
                                Command="{Binding ResetSettingsCommand}"
                                Style="{StaticResource ModernButtonStyle}"
                                HorizontalAlignment="Left"
                                Margin="0,8"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button Content="Save" 
                    Command="{Binding SaveSettingsCommand}"
                    Style="{StaticResource ModernButtonStyle}"
                    Margin="0,0,8,0"
                    Width="80"/>
            <Button Content="Cancel" 
                    Click="Cancel_Click"
                    Style="{StaticResource ModernButtonStyle}"
                    Width="80"/>
        </StackPanel>
    </Grid>
</Window>